{% extends 'content.html' %}

{% block page_title %}
  {{ page_title }}
{% endblock %}

{% block page_subtitle %}
  {{ page_subtitle }}
{% endblock %}


{% block content %}
<div class="panel panel-default ">

  <div class="panel-body table-responsive">

    {% if rows is empty %}
      {{ empty_message }}
    {% else %}
      <table class="table table-striped table-hover">
        {% if show_headers == true %}
        <thead>
          <tr>
            {% for item in headers %}
              <th>{{ item|raw }}</th>
            {% endfor %}
          </tr>
        </thead>
        {% endif %}

        <tbody>
          {% for row, columns in rows %}
            <tr data-row="{{ loop.index }}" data-object-id="{{ rows[row][0] }}">
            {% for column in columns %}
              <td data-row-column="{{ loop.parent.loop.index }}:{{ loop.index }}"> {{ column|raw }}</td>
            {% endfor %}
            </tr>
          {% endfor %}
        </tbody>

      </table>

      {# Pagination #}
      {% if pager_items %}
        <ul class="pagination pagination-sm pull-right">
        {% for item in pager_items%}
          <li class={{ item.class }}>{{ item.link|raw }}</li>
        {% endfor %}
        </ul>
        <form id="{{ function }}_pager" name="{{ function }}_pager">
          <input name="limit" type="hidden"  value="{{ limit }}" />
          <input name="sort" type="hidden"  value="{{ sort }}" />
          <input name="search_query" type="hidden"  value="{{ search_query }}" />
		    </form>
      {% endif %}

    {% endif %}

  </div>
</div>
{% endblock %}